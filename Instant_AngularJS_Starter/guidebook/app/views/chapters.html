<ul>
  <li class="chapter" ng-repeat='chapter in chapters | orderBy:"title"'>
    <h2>{{chapter.title}}</h2>
    <p>{{chapter.summary}}</p>
    <p>
      <a href="#/guidebook/chapter/{{chapter.id}}">
        {{chapter.notes.length}}
        <span ng-show="chapter.notes.length == 1">note</span>
        <span ng-hide="chapter.notes.length == 1">notes</span>
      </a>
      |
      <a href="#/guidebook/addNote/{{chapter.id}}">add note</a>
    </p>
    <ul class="notes" ng-show="chapter.id == selectedChapterId">
      <li ng-repeat="note in chapter.notes | orderBy:'id'">
        <div>#{{$index}}</div>
        <div><a ng-click="onDelete(note.id)">delete</a></div>
        <p>{{note.content}}</p>
      </li>
    </ul>
  </li>
</ul>